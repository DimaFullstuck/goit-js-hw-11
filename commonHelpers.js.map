{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function searchImagesByQuery(query) {\n  const URL = 'https://pixabay.com/api/';\n  const API_KEY = '45142135-0c3dcc8f867495c741718f1c0';\n\n  return fetch(\n    `${URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function showError(error) {\n  iziToast.error({\n    position: 'topRight',\n    message: `${error}`,\n  });\n}\n\nexport function createGallary(data) {\n  const lightbox = new SimpleLightbox('.gallery-item a', {\n    captions: true,\n    captionSelector: 'img',\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  });\n  const images = data.hits\n    .map(\n      hit => `\n    <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${hit.largeImageURL}\">\n            <img class=\"gallery-image\"\n                src=\"${hit.webformatURL}\"\n                alt=\"${hit.tags}\" \n            />\n        </a>\n        <div class=\"gallery-content\">\n            <h5 class=\"text-content\">Likes<p class=\"text\">${hit.likes}</p></h5>\n            <h5 class=\"text-content\">Views<p class=\"text\">${hit.views}</p></h5>\n            <h5 class=\"text-content\">Comments<p class=\"text\">${hit.comments}</p></h5>\n            <h5 class=\"text-content\">Downloads<p class=\"text\">${hit.downloads}</p></h5>\n        </div>\n    </li>`\n    )\n    .join('');\n\n  document\n    .querySelector('.gallery-list')\n    .insertAdjacentHTML('beforeend', images);\n  lightbox.refresh();\n  // lightbox.on('show.simplelightbox', function () {})\n}\n\nexport function cleanGallery() {\n  const list = document.querySelector('.gallery-list');\n  list.innerHTML = '';\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport searchImagesByQuery from './js/pixabay-api.js';\nimport { showError } from './js/render-functions.js';\n\nconst form = document.querySelector('.gallery-form');\nconst input = document.querySelector('.input-gallery');\nconst loader = document.querySelector('.loading');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  cleanGallery(); //  очищуєм галерею\n  loader.classList.remove('hidden'); // прибираємо клас прихованого спану\n\n  const query = input.value.trim();\n  if (query === '') {\n    showError('Please enter a search query.');\n    loader.classList.add('hidden');\n    return;\n  }\n\n  searchImagesByQuery(query)\n    .then(data => {\n      if (data.total === 0) {\n        showError(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        loader.classList.add('hidden');\n        input.value = '';\n        return;\n      }\n      // else {\n      //     createGallary(data)\n      // }\n      loader.classList.add('hidden');\n      console.log(data);\n      createGallary(data);\n      input.value = '';\n    })\n    .catch(error => {\n      showError(error);\n      input.value = '';\n    });\n});\n"],"names":["searchImagesByQuery","query","response","showError","error","iziToast","form","input","loader","event","data"],"mappings":"svBAAe,SAASA,EAAoBC,EAAO,CAIjD,OAAO,MACL,qEAA2BA,CAAK,0DACpC,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCFO,SAASC,EAAUC,EAAO,CAC/BC,EAAS,MAAM,CACb,SAAU,WACV,QAAS,GAAGD,CAAK,EACrB,CAAG,CACH,CCNA,MAAME,EAAO,SAAS,cAAc,eAAe,EAC7CC,EAAQ,SAAS,cAAc,gBAAgB,EAC/CC,EAAS,SAAS,cAAc,UAAU,EAEhDF,EAAK,iBAAiB,SAAUG,GAAS,CACvCA,EAAM,eAAc,EACpB,eACAD,EAAO,UAAU,OAAO,QAAQ,EAEhC,MAAMP,EAAQM,EAAM,MAAM,KAAI,EAC9B,GAAIN,IAAU,GAAI,CAChBE,EAAU,8BAA8B,EACxCK,EAAO,UAAU,IAAI,QAAQ,EAC7B,MACD,CAEDR,EAAoBC,CAAK,EACtB,KAAKS,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CACpBP,EACE,0EACV,EACQK,EAAO,UAAU,IAAI,QAAQ,EAC7BD,EAAM,MAAQ,GACd,MACD,CAIDC,EAAO,UAAU,IAAI,QAAQ,EAC7B,QAAQ,IAAIE,CAAI,EAChB,cAAcA,CAAI,EAClBH,EAAM,MAAQ,EACpB,CAAK,EACA,MAAMH,GAAS,CACdD,EAAUC,CAAK,EACfG,EAAM,MAAQ,EACpB,CAAK,CACL,CAAC"}